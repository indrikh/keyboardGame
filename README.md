# Клавогонки - тренажер печати

Веб-приложение для тренировки скорости печати с авторизацией и системой рейтинга.

## Функционал

- Игра по скоропечатанию (клавиатурный тренажер)
- Рейтинг игроков
- Выбор языка (русский/английский)
- Авторизация пользователей
- Личный кабинет с сохранением прогресса

## Технологии

- **Фронтенд**: Next.js, TypeScript, Tailwind CSS
- **Бэкенд**: NestJS, TypeScript
- **База данных**: MongoDB
- **Инфраструктура**: Docker, Docker Compose

## Структура проекта

```
keyboardGame/
├── client/              # Next.js фронтенд
├── server/              # NestJS бэкенд
├── docker-compose.yml   # Конфигурация Docker Compose
├── .gitignore           # Файлы, исключаемые из Git
└── README.md            # Документация проекта
```

## Руководство по развертыванию

### Предварительные требования

- Docker и Docker Compose
- Git

### Шаг 1: Клонирование репозитория

```bash
git clone https://github.com/indrikh/keyboardGame.git
cd keyboardGame
```

### Шаг 2: Настройка переменных окружения

1. Создайте файлы `.env` на основе примеров:

```bash
# Для бэкенда
cp server/.env.example server/.env

# Для фронтенда
cp client/.env.example client/.env
```

2. При необходимости отредактируйте файлы `.env`, установив собственные значения для:
   - `JWT_SECRET` - секретный ключ для JWT токенов
   - `MONGODB_URI` - URI для подключения к MongoDB (по умолчанию настроен для работы с Docker)

### Шаг 3: Запуск приложения через Docker Compose

```bash
docker-compose up -d
```

Этот команда запустит:
- MongoDB на порту 27017
- Бэкенд на порту 3001
- Фронтенд на порту 3000

### Шаг 4: Заполнение базы данных начальными текстами

```bash
# Выполните seed-скрипт для добавления тестовых текстов
docker-compose exec backend npm run seed
```

### Шаг 5: Проверка работоспособности

Откройте приложение в браузере по адресу [http://localhost:3000](http://localhost:3000)

## Разработка без Docker

Если вы хотите разрабатывать приложение без Docker:

### Бэкенд (NestJS)

```bash
cd server
npm install
npm run start:dev
```

### Фронтенд (Next.js)

```bash
cd client
npm install
npm run dev
```

### База данных

Необходимо установить и настроить MongoDB локально, либо использовать удаленную базу данных, указав соответствующий URI в файле `.env`.

## API эндпоинты

### Аутентификация

- `POST /auth/register` - Регистрация нового пользователя
- `POST /auth/login` - Вход в систему

### Пользователи

- `GET /users/profile/:id` - Получить профиль пользователя
- `GET /users/top` - Получить список лучших пользователей

### Игра

- `GET /game/text?language=ru` - Получить случайный текст для игры (ru или en)
- `POST /game/result` - Сохранить результат игры

### Рейтинг

- `GET /ratings` - Получить рейтинг пользователей

## Лицензия

MIT